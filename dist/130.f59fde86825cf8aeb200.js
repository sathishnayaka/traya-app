"use strict";(self.webpackChunktraya_app=self.webpackChunktraya_app||[]).push([[130],{4130:(e,t,n)=>{n.r(t),n.d(t,{default:()=>E});var r=n(6540),i=n(5458),l=n(296);var a=n(5072),o=n.n(a),c=n(7825),d=n.n(c),u=n(7659),s=n.n(u),f=n(5056),m=n.n(f),p=n(540),y=n.n(p),h=n(1113),g=n.n(h),v=n(8787),b={};b.styleTagTransform=g(),b.setAttributes=m(),b.insert=s().bind(null,"head"),b.domAPI=d(),b.insertStyleElement=y();o()(v.A,b);v.A&&v.A.locals&&v.A.locals;function w(e){var t=e.columns,n=e.data,a=e.rowHeight,o=void 0===a?35:a,c=e.height,d=void 0===c?400:c,u=(0,r.useMemo)((function(){return t.filter((function(e){return e.frozen}))}),[t]),s=(0,r.useMemo)((function(){return t.filter((function(e){return!e.frozen}))}),[t]),f=(0,r.useState)([]),m=(0,l.A)(f,2),p=m[0],y=m[1],h=(0,r.useMemo)((function(){return p.length?n.filter((function(e){return p.every((function(t){var n;return String(null!==(n=e[t.key])&&void 0!==n?n:"").toLowerCase().includes(t.value.toLowerCase())}))})):n}),[n,p]),g=(0,r.useRef)(null),v=function(e){var t=e.rowHeight,n=e.totalCount,i=e.containerHeight,a=(0,r.useState)(0),o=(0,l.A)(a,2),c=o[0],d=o[1],u=(0,r.useState)(0),s=(0,l.A)(u,2),f=s[0],m=s[1],p=Math.ceil(i/t),y=(0,r.useCallback)((function(e){var r=e.currentTarget.scrollTop,i=Math.floor(r/t);d(i),m(Math.min(n-1,i+p))}),[t,n,p]);return(0,r.useEffect)((function(){m(Math.min(n-1,p))}),[n,p]),{startIndex:c,endIndex:f,onScroll:y,visibleCount:p}}({rowHeight:o,totalCount:h.length,containerHeight:d}),b=v.startIndex,w=v.endIndex,x=v.onScroll,k=(0,r.useRef)(null),E=(0,r.useRef)(null),A=(0,r.useCallback)((function(e){var t=e.currentTarget.scrollTop;k.current&&(k.current.parentElement.scrollTop=t),x(e)}),[x]),S=(0,r.useMemo)((function(){return h.slice(b,w+1)}),[h,b,w]),C=function(e){return"number"==typeof e.width?"".concat(e.width,"px"):"150px"},D=b*o,I=(h.length-w-1)*o;return r.createElement("div",{style:{fontFamily:"sans-serif",overflow:"hidden",border:"1px solid #ccc"},className:"datagrid-container"},r.createElement("div",{style:{padding:8},className:"datagrid-header"},r.createElement("button",{onClick:function(){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"export.csv",r=t.map((function(e){return'"'.concat(e.title,'"')})).join(","),l=e.map((function(e){return t.map((function(t){var n=e[t.key];return"string"==typeof n?'"'.concat(n.replace(/"/g,'""'),'"'):n})).join(",")})),a=[r].concat((0,i.A)(l)).join("\r\n"),o=new Blob([a],{type:"text/csv;charset=utf-8;"}),c=document.createElement("a"),d=URL.createObjectURL(o);c.setAttribute("href",d),c.setAttribute("download",n),c.style.visibility="hidden",document.body.appendChild(c),c.click(),document.body.removeChild(c)}(h,t)},className:"btn-export"},"Export CSV")),r.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:12,padding:8}},t.filter((function(e){return e.filterable})).map((function(e){var t=p.find((function(t){return t.key===e.key}));return r.createElement("div",{key:String(e.key)},r.createElement("label",{style:{display:"block",fontSize:14}},e.title),r.createElement("input",{style:{padding:"4px 8px",width:120,fontSize:14,borderRadius:"12px"},value:(null==t?void 0:t.value)||"",onChange:function(t){var n=t.target.value;y((function(t){var r=t.filter((function(t){return t.key!==e.key}));return n.trim()?[].concat((0,i.A)(r),[{key:String(e.key),value:n}]):r}))},placeholder:"Filter ".concat(e.title)}))}))),r.createElement("div",{style:{display:"flex",height:d,borderTop:"1px solid #ccc"},ref:g},r.createElement("div",{style:{overflow:"hidden",flex:"0 0 auto"}},r.createElement("table",{style:{borderCollapse:"collapse",tableLayout:"fixed",width:u.reduce((function(e,t){return e+(t.width||150)}),0)}},r.createElement("thead",{style:{background:"#f5f5f5"}},r.createElement("tr",null,u.map((function(e){return r.createElement("th",{key:String(e.key),style:{borderBottom:"1px solid #ccc",textAlign:"left",padding:8,width:C(e)}},e.title)})))),r.createElement("tbody",{ref:k,style:{display:"block",height:d-40,overflow:"hidden"}},r.createElement("tr",{style:{height:D}}),S.map((function(e,t){return r.createElement("tr",{key:b+t,style:{height:o}},u.map((function(t){var n=t.key,i=e[n];return r.createElement("td",{key:String(t.key),style:{padding:"6px 8px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",borderBottom:"1px solid #eee",width:C(t)},title:String(i)},t.render?t.render(i,e):i)})))})),r.createElement("tr",{style:{height:I}})))),r.createElement("div",{style:{overflow:"auto",flex:1},onScroll:A},r.createElement("table",{style:{borderCollapse:"collapse",tableLayout:"fixed",width:s.reduce((function(e,t){return e+(t.width||150)}),0)}},r.createElement("thead",{style:{background:"#f5f5f5",position:"sticky",top:0,zIndex:1}},r.createElement("tr",null,s.map((function(e){return r.createElement("th",{key:String(e.key),style:{borderBottom:"1px solid #ccc",textAlign:"left",padding:8,width:C(e)}},e.title)})))),r.createElement("tbody",{ref:E},r.createElement("tr",{style:{height:D}}),S.map((function(e,t){return r.createElement("tr",{key:b+t,style:{height:o}},s.map((function(t){var n=t.key,i=e[n];return r.createElement("td",{key:String(t.key),style:{padding:"6px 8px",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",borderBottom:"1px solid #eee",width:C(t)},title:String(i)},t.render?t.render(i,e):i)})))})),r.createElement("tr",{style:{height:I}}))))))}var x=Array.from({length:1e3},(function(e,t){return{id:t+1,name:"User ".concat(t+1),email:"user".concat(t+1,"@example.com"),age:20+t%50,status:Math.random()>.5?"Active":"Inactive",joinDate:new Date(Date.now()-864e5*t).toISOString()}})),k=[{key:"id",title:"ID",width:80},{key:"name",title:"Name",filterable:!0,width:150},{key:"email",title:"Email",filterable:!0,width:250},{key:"age",title:"Age",width:100},{key:"status",title:"Status",width:120,render:function(e){return r.createElement("span",{style:{padding:"2px 8px",borderRadius:"9999px",backgroundColor:"Active"===e?"#d4fcd4":"#fde2e2",color:"Active"===e?"#007f00":"#cc0000",fontWeight:"bold",fontSize:"0.85em"}},e)}},{key:"email",title:"Profile",width:180,render:function(e,t){return r.createElement("a",{href:"https://example.com/users/".concat(t.id),target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"underline"}},"View Profile")}},{key:"joinDate",title:"Join Date",width:160,render:function(e){return new Date(e).toLocaleDateString()}}];const E=function(){return r.createElement("div",{style:{padding:16}},r.createElement("h2",null,"Virtualized DataGrid with Custom Rendered Columns"),r.createElement(w,{columns:k,data:x,rowHeight:35,height:500}))}},5458:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(3145);var i=n(7800);function l(e){return function(e){if(Array.isArray(e))return(0,r.A)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},8787:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(1354),i=n.n(r),l=n(6314),a=n.n(l)()(i());a.push([e.id,"// extracted by mini-css-extract-plugin\nexport {};","",{version:3,sources:["webpack://./src/components/DataGrid/style.css"],names:[],mappings:"AAAA;QACS,CAAA",sourcesContent:["// extracted by mini-css-extract-plugin\nexport {};"],sourceRoot:""}]);const o=a}}]);
//# sourceMappingURL=130.f59fde86825cf8aeb200.js.map